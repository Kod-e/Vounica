import{g as c,h as f,d as g,i as p,j as h,b as u,c as d,a as t,t as o,k as s,e as x,F as _,r as y,o as m}from"./index-D9-lQFsJ.js";async function b(i,a){const{data:e,error:r}=await c.GET("/v1/grammar/page",{query:{offset:i,limit:a}});if(r)throw r;if(!e)throw new Error("Empty response");return e}const v=f("grammar",{state:()=>({grammars:[],offset:0,limit:30,isLoading:!1}),getters:{hasPrevPage:i=>i.offset>0,nowPage:i=>Math.floor(i.offset/i.limit)+1},actions:{async fetchGrammars(){this.isLoading=!0;const i=await b(this.offset,this.limit);this.grammars=i,this.isLoading=!1},nextPage(){this.isLoading||(this.offset+=this.limit,this.fetchGrammars())},prevPage(){this.isLoading||this.offset-this.limit<0||(this.offset-=this.limit,this.fetchGrammars())}}}),w={class:"px-4 sm:px-6 lg:px-8"},L={class:"sm:flex sm:items-center"},k={class:"sm:flex-auto"},P={class:"text-base font-semibold leading-6 text-gray-900"},G={class:"mt-2 text-sm text-gray-700"},C={class:"mt-8 flow-root"},E={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},V={class:"inline-block min-w-full py-2 align-middle"},B={class:"min-w-full divide-y divide-gray-300"},S={scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6 lg:pl-8"},j={scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},D={scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},F={key:0,class:"divide-y divide-gray-200 bg-white"},M={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900"},N={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500 sm:pl-6 lg:pl-8"},$={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},q={class:"mt-8 flex justify-between"},z=g({__name:"GrammarView",setup(i){const{t:a}=p(),e=v();h(()=>{e.fetchGrammars()});const r=u(()=>e.grammars);return(I,l)=>(m(),d("div",w,[t("div",L,[t("div",k,[t("h1",P,o(s(a)("grammar")),1),t("p",G,o(s(a)("grammarViewDescription")),1)])]),t("div",C,[t("div",E,[t("div",V,[t("table",B,[t("thead",null,[t("tr",null,[t("th",S,o(s(a)("name")),1),t("th",j,o(s(a)("usage")),1),t("th",D,o(s(a)("updated_at")),1)])]),s(e).isLoading?x("",!0):(m(),d("tbody",F,[(m(!0),d(_,null,y(r.value,n=>(m(),d("tr",{key:n.id},[t("td",M,o(n.name),1),t("td",N,o(n.usage),1),t("td",$,o(n.updated_at),1)]))),128))]))])])])]),t("div",q,[t("button",{type:"button",class:"block rounded-md bg-indigo-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:l[0]||(l[0]=n=>s(e).prevPage())},o(s(e).isLoading?"Loading...":s(a)("prevPage")),1),t("button",{type:"button",class:"block rounded-md bg-indigo-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:l[1]||(l[1]=n=>s(e).nextPage())},o(s(e).isLoading?"Loading...":s(a)("nextPage")),1)])]))}});export{z as default};
