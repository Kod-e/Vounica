import{g as m,h as f,d as p,i as h,j as g,b as u,c as d,a as t,t as i,k as s,e as x,F as _,r as y,o as c}from"./index-D9-lQFsJ.js";async function b(o,n){const{data:e,error:l}=await m.GET("/v1/mistake/page",{query:{offset:o,limit:n}});if(l)throw l;if(!e)throw new Error("Empty response");return e}const v=f("mistake",{state:()=>({mistakes:[],offset:0,limit:30,isLoading:!1}),getters:{hasPrevPage:o=>o.offset>0,nowPage:o=>Math.floor(o.offset/o.limit)+1},actions:{async fetchMistakes(){this.isLoading=!0;const o=await b(this.offset,this.limit);this.mistakes=o,this.isLoading=!1},nextPage(){this.isLoading||(this.offset+=this.limit,this.fetchMistakes())},prevPage(){this.isLoading||this.offset-this.limit<0||(this.offset-=this.limit,this.fetchMistakes())}}}),w={class:"px-4 sm:px-6 lg:px-8"},k={class:"sm:flex sm:items-center"},L={class:"sm:flex-auto"},P={class:"text-base font-semibold leading-6 text-gray-900"},M={class:"mt-2 text-sm text-gray-700"},C={class:"mt-8 flow-root"},E={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},V={class:"inline-block min-w-full py-2 align-middle"},q={class:"min-w-full divide-y divide-gray-300"},B={scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6 lg:pl-8"},S={scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},j={scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},D={key:0,class:"divide-y divide-gray-200 bg-white"},F={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900"},N={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500 sm:pl-6 lg:pl-8"},$={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},G={class:"mt-8 flex justify-between"},z=p({__name:"MistakeView",setup(o){const{t:n}=h(),e=v();g(()=>{e.fetchMistakes()});const l=u(()=>e.mistakes);return(I,r)=>(c(),d("div",w,[t("div",k,[t("div",L,[t("h1",P,i(s(n)("mistake")),1),t("p",M,i(s(n)("mistakeViewDescription")),1)])]),t("div",C,[t("div",E,[t("div",V,[t("table",q,[t("thead",null,[t("tr",null,[t("th",B,i(s(n)("question")),1),t("th",S,i(s(n)("error_reason")),1),t("th",j,i(s(n)("answer")),1)])]),s(e).isLoading?x("",!0):(c(),d("tbody",D,[(c(!0),d(_,null,y(l.value,a=>(c(),d("tr",{key:a.id},[t("td",F,i(a.question),1),t("td",N,i(a.error_reason),1),t("td",$,i(a.answer),1)]))),128))]))])])])]),t("div",G,[t("button",{type:"button",class:"block rounded-md bg-indigo-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:r[0]||(r[0]=a=>s(e).prevPage())},i(s(e).isLoading?"Loading...":s(n)("prevPage")),1),t("button",{type:"button",class:"block rounded-md bg-indigo-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:r[1]||(r[1]=a=>s(e).nextPage())},i(s(e).isLoading?"Loading...":s(n)("nextPage")),1)])]))}});export{z as default};
