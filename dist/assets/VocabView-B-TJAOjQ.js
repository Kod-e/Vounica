import{g as f,h as u,d as m,i as p,j as h,b as g,c as r,a as t,t as o,k as e,e as x,F as b,r as _,o as d}from"./index-QioiTtJ0.js";async function v(i,a){const{data:s,error:l}=await f.GET("/v1/vocab/page",{query:{offset:i,limit:a}});if(l)throw l;if(!s)throw new Error("Empty response");return s}const y=u("vocab",{state:()=>({vocabularies:[],offset:0,limit:30,isLoading:!1}),getters:{hasPrevPage:i=>i.offset>0,nowPage:i=>Math.floor(i.offset/i.limit)+1},actions:{async fetchVocabularies(){this.isLoading=!0;const i=await v(this.offset,this.limit);this.vocabularies=i,this.isLoading=!1},nextPage(){this.isLoading||(this.offset+=this.limit,this.fetchVocabularies())},prevPage(){this.isLoading||this.offset-this.limit<0||(this.offset-=this.limit,this.fetchVocabularies())}}}),w={class:"px-4 sm:px-6 lg:px-8"},L={class:"sm:flex sm:items-center"},k={class:"sm:flex-auto"},V={class:"text-base font-semibold leading-6 text-gray-900"},P={class:"mt-2 text-sm text-gray-700"},C={class:"mt-8 flow-root"},E={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},B={class:"inline-block min-w-full py-2 align-middle"},S={class:"min-w-full divide-y divide-gray-300"},j={scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6 lg:pl-8"},D={scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},F={scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},M={key:0,class:"divide-y divide-gray-200 bg-white"},N={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900"},$={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500 sm:pl-6 lg:pl-8"},q={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},G={class:"mt-8 flex justify-between"},z=m({__name:"VocabView",setup(i){const{t:a}=p(),s=y();h(()=>{s.fetchVocabularies()});const l=g(()=>s.vocabularies);return(I,c)=>(d(),r("div",w,[t("div",L,[t("div",k,[t("h1",V,o(e(a)("vocab")),1),t("p",P,o(e(a)("vocabViewDescription")),1)])]),t("div",C,[t("div",E,[t("div",B,[t("table",S,[t("thead",null,[t("tr",null,[t("th",j,o(e(a)("name")),1),t("th",D,o(e(a)("usage")),1),t("th",F,o(e(a)("updated_at")),1)])]),e(s).isLoading?x("",!0):(d(),r("tbody",M,[(d(!0),r(b,null,_(l.value,n=>(d(),r("tr",{key:n.id},[t("td",N,o(n.name),1),t("td",$,o(n.usage),1),t("td",q,o(n.updated_at),1)]))),128))]))])])])]),t("div",G,[t("button",{type:"button",class:"block rounded-md bg-indigo-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:c[0]||(c[0]=n=>e(s).prevPage())},o(e(s).isLoading?"Loading...":e(a)("prevPage")),1),t("button",{type:"button",class:"block rounded-md bg-indigo-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:c[1]||(c[1]=n=>e(s).nextPage())},o(e(s).isLoading?"Loading...":e(a)("nextPage")),1)])]))}});export{z as default};
